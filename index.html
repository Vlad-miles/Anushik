<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –¥–ª—è —Å–∞–º–æ–π –ª—é–±–∏–º–æ–π</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Telegram-friendly —Å—Ç–∏–ª–∏ */
        :root {
            --tg-bg: #0f0f0f;
            --tg-text: #ffffff;
            --tg-hint: #aaaaaa;
            --tg-accent: #8774e1;
            --tg-accent-light: #a396e6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--tg-bg);
            color: var(--tg-text);
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .screen {
            display: none;
            min-height: 100vh;
            padding: 30px 20px;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            animation: fadeIn 0.8s ease;
        }
        
        .screen.active {
            display: flex;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff6b9d, var(--tg-accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
        }
        
        h2 {
            font-size: 2rem;
            margin-bottom: 25px;
            color: var(--tg-accent-light);
        }
        
        p {
            font-size: 1.3rem;
            margin-bottom: 25px;
            max-width: 600px;
        }
        
        .btn {
            background: var(--tg-accent);
            color: white;
            border: none;
            padding: 18px 45px;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            margin: 15px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(135, 116, 225, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(135, 116, 225, 0.4);
            background: var(--tg-accent-light);
        }
        
        .btn:active {
            transform: translateY(-2px);
        }
        
        .password-input {
            padding: 18px 25px;
            font-size: 1.3rem;
            border: 3px solid var(--tg-accent);
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--tg-text);
            width: 90%;
            max-width: 400px;
            margin: 25px 0;
            text-align: center;
            outline: none;
        }
        
        .password-input:focus {
            border-color: #ff6b9d;
            box-shadow: 0 0 20px rgba(255, 107, 157, 0.3);
        }
        
        .countdown {
            font-family: 'Courier New', monospace;
            font-size: 3rem;
            margin: 30px 0;
            color: #ffcc00;
            text-shadow: 0 0 15px rgba(255, 204, 0, 0.5);
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            min-width: 300px;
        }
        
        .heart {
            color: #ff6b9d;
            font-size: 3rem;
            margin: 25px;
            animation: heartbeat 1.5s infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .photo-frame {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            overflow: hidden;
            margin: 30px;
            border: 6px solid var(--tg-accent);
            box-shadow: 0 0 40px rgba(135, 116, 225, 0.5);
            position: relative;
        }
        
        .photo-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .invitation-card {
            background: linear-gradient(135deg, rgba(135, 116, 225, 0.15), rgba(255, 107, 157, 0.1));
            border-radius: 25px;
            padding: 35px;
            margin: 30px;
            max-width: 500px;
            border: 2px solid var(--tg-accent);
            backdrop-filter: blur(10px);
        }
        
        .detail-item {
            display: flex;
            align-items: center;
            margin: 15px 0;
            font-size: 1.2rem;
        }
        
        .detail-item i {
            width: 40px;
            color: var(--tg-accent);
            font-size: 1.5rem;
        }
        
        .typed-text {
            font-size: 1.5rem;
            min-height: 200px;
            margin: 30px 0;
            line-height: 1.8;
        }
        
        .confetti {
            position: fixed;
            width: 12px;
            height: 12px;
            background: var(--tg-accent);
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            z-index: 1000;
        }
        
        .error-message {
            color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
            padding: 15px;
            border-radius: 15px;
            margin: 20px;
            display: none;
        }
        
        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            h2 { font-size: 1.7rem; }
            p { font-size: 1.1rem; }
            .countdown { font-size: 2.2rem; min-width: 250px; }
            .btn { padding: 16px 35px; font-size: 1.1rem; }
            .invitation-card { padding: 25px; margin: 15px; }
        }
    </style>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω 1: –ó–∞–≥—Ä—É–∑–∫–∞ -->
    <div id="screen1" class="screen active">
        <div class="heart"><i class="fas fa-heart"></i></div>
        <h1 id="loading-title">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è...</h1>
        <p>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤–æ–ª—à–µ–±—Å—Ç–≤–∞ –¥–ª—è —Ç–µ–±—è <span id="her-name">[–ò–º—è]</span></p>
        <div class="countdown" id="countdown-timer">00:00:00</div>
        <div class="error-message" id="error-msg">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.</div>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω 2: –ü–∞—Ä–æ–ª—å -->
    <div id="screen2" class="screen">
        <h2><i class="fas fa-lock"></i> –°–µ–∫—Ä–µ—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø</h2>
        <p>–≠—Ç–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–æ –ø–∞—Ä–æ–ª–µ–º</p>
        <p><em>–ö–∞–∫ —è –ª–∞—Å–∫–æ–≤–æ –Ω–∞–∑—ã–≤–∞—é —Ç–µ–±—è, –∫–æ–≥–¥–∞ –º—ã –æ–¥–Ω–∏?</em></p>
        <input type="text" id="password-input" class="password-input" placeholder="–í–≤–µ–¥–∏ —Å–ª–æ–≤–æ..." autocomplete="off">
        <button class="btn" onclick="checkPassword()"><i class="fas fa-key"></i> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
        <p id="password-hint" style="color:#ffcc00; display:none;">–í–µ—Ä–Ω–æ! –¢—ã –Ω–∞–≤—Å–µ–≥–¥–∞ –º–æ—è –ª—é–±–∏–º–∞—è ‚ù§Ô∏è</p>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω 3: –ö–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã -->
    <div id="screen3" class="screen">
        <div class="photo-frame">
            <!-- –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∞—à–µ —Ñ–æ—Ç–æ! -->
            <img src="https://images.unsplash.com/photo-1518568814500-bf0f8d125f46?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" 
                 alt="–ù–∞—à–µ —Ñ–æ—Ç–æ" id="couple-photo">
        </div>
        <h2><i class="fas fa-star"></i> –î–ª—è —Å–∞–º–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ–π</h2>
        <div id="typed-compliments" class="typed-text"></div>
        <button class="btn" onclick="showScreen(4)"><i class="fas fa-arrow-right"></i> –£–∑–Ω–∞—Ç—å –º–µ—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∏</button>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω 4: –ó–∞–≥–∞–¥–∫–∞ –º–µ—Å—Ç–∞ -->
    <div id="screen4" class="screen">
        <h2><i class="fas fa-map-marker-alt"></i> –ü–æ–∏—Å–∫ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç</h2>
        <p>–ú–µ—Å—Ç–æ –Ω–∞—à–µ–π –≤—Å—Ç—Ä–µ—á–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ –≤ –∑–∞–≥–∞–¥–∫–µ:</p>
        <div class="invitation-card">
            <p id="location-riddle">
                –¢–∞–º –ª—å—ë—Ç—Å—è –¥–∂–∞–∑ –∏ —Å–≤–µ—Ç —Å–≤–µ—á–µ–π –º–µ—Ä—Ü–∞–µ—Ç,<br>
                –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π —à–µ–ø–æ—Ç, –∞—Ä–æ–º–∞—Ç —à–∞–ª—Ñ–µ—è.<br>
                –í <strong id="riddle-time">19:30</strong> –∂–¥—É —Ç–µ–±—è, –º–æ–π —Å–≤–µ—Ç,<br>
                –ß—Ç–æ–±—ã —ç—Ç–æ—Ç –≤–µ—á–µ—Ä —Å—Ç–∞–ª –ª—É—á—à–∏–º –Ω–∞ —Å–≤–µ—Ç–µ.
            </p>
        </div>
        <button class="btn" onclick="showScreen(5)"><i class="fas fa-map"></i> –†–∞—Å–∫—Ä—ã—Ç—å –≤—Å–µ –¥–µ—Ç–∞–ª–∏</button>
    </div>
    
    <!-- –≠–∫—Ä–∞–Ω 5: –§–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ -->
    <div id="screen5" class="screen">
        <h1><i class="fas fa-gift"></i> –í—Å—ë –≥–æ—Ç–æ–≤–æ!</h1>
        <div class="invitation-card">
            <h2 id="final-location">–†–µ—Å—Ç–æ—Ä–∞–Ω "–õ–∞ –°–∫–∞–ª–∞"</h2>
            
            <div class="detail-item">
                <i class="fas fa-calendar-alt"></i>
                <span><strong>–î–∞—Ç–∞:</strong> <span id="final-date">15 –°–µ–Ω—Ç—è–±—Ä—è 2024</span></span>
            </div>
            
            <div class="detail-item">
                <i class="fas fa-clock"></i>
                <span><strong>–í—Ä–µ–º—è:</strong> <span id="final-time" style="font-size:1.4rem; color:#ffcc00;">19:30</span></span>
            </div>
            
            <div class="detail-item">
                <i class="fas fa-map-pin"></i>
                <span><strong>–ê–¥—Ä–µ—Å:</strong> <span id="final-address">—É–ª. –†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è, 42</span></span>
            </div>
            
            <div class="detail-item">
                <i class="fas fa-tshirt"></i>
                <span><strong>–î—Ä–µ—Å—Å-–∫–æ–¥:</strong> <span id="final-dress-code">–¢–≤–æ—ë —Å–∞–º–æ–µ –∫—Ä–∞—Å–∏–≤–æ–µ –ø–ª–∞—Ç—å–µ</span></span>
            </div>
            
            <div class="detail-item" style="color:#ffcc00; margin-top:25px;">
                <i class="fas fa-surprise"></i>
                <span><em id="final-secret">–í 20:30 –∂–¥—ë—Ç —Å—é—Ä–ø—Ä–∏–∑ –æ—Ç —à–µ—Ñ-–ø–æ–≤–∞—Ä–∞</em></span>
            </div>
        </div>
        
        <button class="btn" onclick="acceptInvitation()" id="accept-btn" 
                style="background: linear-gradient(45deg, #4CAF50, #45a049);">
            <i class="fas fa-check-circle"></i> –Ø —Å –æ–≥—Ä–æ–º–Ω–æ–π —Ä–∞–¥–æ—Å—Ç—å—é –ø—Ä–∏–¥—É!
        </button>
        
        <div class="heart"><i class="fas fa-heart"></i></div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let invitationData = {};
        let countdownInterval;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', async function() {
            console.log("üöÄ –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...");
            
            try {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
                const response = await fetch('/api/invitation');
                if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞');
                
                invitationData = await response.json();
                console.log("‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:", invitationData);
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ
                document.getElementById('her-name').textContent = invitationData.her_name;
                document.getElementById('loading-title').textContent = `–î–ª—è ${invitationData.her_name}`;
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
                startCountdown();
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    document.getElementById('error-msg').style.display = 'none';
                    showScreen(2);
                }, 2000);
                
            } catch (error) {
                console.error("‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:", error);
                document.getElementById('error-msg').style.display = 'block';
                
                // –ó–∞–ø–∞—Å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                invitationData = {
                    her_name: "–ê–Ω–Ω–∞",
                    your_name: "–ê–ª–µ–∫—Å–µ–π",
                    date: "15 –°–µ–Ω—Ç—è–±—Ä—è 2024",
                    time: "19:30",
                    location: { name: "–†–µ—Å—Ç–æ—Ä–∞–Ω '–õ–∞ –°–∫–∞–ª–∞'", address: "—É–ª. –†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è, 42" },
                    dress_code: "–¢–≤–æ—ë —Å–∞–º–æ–µ –∫—Ä–∞—Å–∏–≤–æ–µ –ø–ª–∞—Ç—å–µ",
                    secret: "–í 20:30 –∂–¥—ë—Ç —Å—é—Ä–ø—Ä–∏–∑ –æ—Ç —à–µ—Ñ-–ø–æ–≤–∞—Ä–∞",
                    password: "–ª—é–±–∏–º–∞—è",
                    event_date: "2024-09-15T19:30:00"
                };
                
                // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Å –∑–∞–ø–∞—Å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
                setTimeout(() => showScreen(2), 2000);
            }
        });
        
        // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —ç–∫—Ä–∞–Ω–∞–º
        function showScreen(screenNumber) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π —ç–∫—Ä–∞–Ω
            const targetScreen = document.getElementById(`screen${screenNumber}`);
            targetScreen.classList.add('active');
            
            // –û—Å–æ–±—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤
            switch(screenNumber) {
                case 3:
                    startTypingAnimation();
                    break;
                case 5:
                    updateFinalDetails();
                    break;
            }
            
            // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–≤–µ—Ä—Ö
            window.scrollTo(0, 0);
        }
        
        // –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
        function startCountdown() {
            const eventDate = new Date(invitationData.event_date).getTime();
            const countdownEl = document.getElementById('countdown-timer');
            
            function updateTimer() {
                const now = new Date().getTime();
                const diff = eventDate - now;
                
                if (diff > 0) {
                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                    
                    if (days > 0) {
                        countdownEl.textContent = `${days}–¥ ${hours}—á ${minutes}–º`;
                    } else {
                        countdownEl.textContent = 
                            `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    }
                } else {
                    countdownEl.textContent = "–ü—Ä—è–º–æ —Å–µ–π—á–∞—Å!";
                    clearInterval(countdownInterval);
                }
            }
            
            updateTimer();
            countdownInterval = setInterval(updateTimer, 1000);
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
        function checkPassword() {
            const input = document.getElementById('password-input').value.trim().toLowerCase();
            const correctPassword = invitationData.password.toLowerCase();
            const hintEl = document.getElementById('password-hint');
            
            if (input === correctPassword) {
                hintEl.style.display = 'block';
                hintEl.innerHTML = `–í–µ—Ä–Ω–æ! –¢—ã –Ω–∞–≤—Å–µ–≥–¥–∞ –º–æ—è ${correctPassword} ‚ù§Ô∏è`;
                
                // –ö—Ä–∞—Å–∏–≤—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    showScreen(3);
                }, 1500);
            } else {
                hintEl.style.display = 'block';
                hintEl.innerHTML = '–ù–µ —Å–æ–≤—Å–µ–º... –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑! üí≠';
                hintEl.style.color = '#ff6b6b';
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    hintEl.style.display = 'none';
                    document.getElementById('password-input').value = '';
                    document.getElementById('password-input').focus();
                }, 2000);
            }
        }
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—á–∞—Ç–∞—é—â–µ–≥–æ—Å—è —Ç–µ–∫—Å—Ç–∞ (–∫–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã)
        function startTypingAnimation() {
            const compliments = [
                "–¢—ã –¥–µ–ª–∞–µ—à—å –∫–∞–∂–¥—ã–π –º–æ–π –¥–µ–Ω—å –æ—Å–æ–±–µ–Ω–Ω—ã–º...",
                "–¢–≤–æ—è —É–ª—ã–±–∫–∞ ‚Äî —Å–∞–º—ã–π –∫—Ä–∞—Å–∏–≤—ã–π —Ä–∞—Å—Å–≤–µ—Ç...",
                "–¢–≤–æ–π —Å–º–µ—Ö ‚Äî –º–æ—è –ª—é–±–∏–º–∞—è –º–µ–ª–æ–¥–∏—è...",
                "–ò —Å–µ–≥–æ–¥–Ω—è —è —Ö–æ—á—É —Å–æ–∑–¥–∞—Ç—å –¥–ª—è –Ω–∞—Å –≤–æ–ª—à–µ–±–Ω—ã–π –≤–µ—á–µ—Ä üí´"
            ];
            
            const typedEl = document.getElementById('typed-compliments');
            let lineIndex = 0;
            let charIndex = 0;
            
            function typeLine() {
                if (lineIndex < compliments.length) {
                    if (charIndex < compliments[lineIndex].length) {
                        typedEl.innerHTML += compliments[lineIndex].charAt(charIndex);
                        charIndex++;
                        setTimeout(typeLine, 50);
                    } else {
                        typedEl.innerHTML += '<br><br>';
                        lineIndex++;
                        charIndex = 0;
                        setTimeout(typeLine, 800);
                    }
                }
            }
            
            typedEl.innerHTML = '';
            typeLine();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π
        function updateFinalDetails() {
            document.getElementById('final-location').textContent = invitationData.location.name;
            document.getElementById('final-date').textContent = invitationData.date;
            document.getElementById('final-time').textContent = invitationData.time;
            document.getElementById('final-address').textContent = invitationData.location.address;
            document.getElementById('final-dress-code').textContent = invitationData.dress_code;
            document.getElementById('final-secret').textContent = invitationData.secret;
            document.getElementById('riddle-time').textContent = invitationData.time;
        }
        
        // –ü—Ä–∏–Ω—è—Ç–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
        function acceptInvitation() {
            const btn = document.getElementById('accept-btn');
            const originalText = btn.innerHTML;
            
            // –ú–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É
            btn.innerHTML = '<i class="fas fa-heart"></i> –ñ–¥—É —Ç–µ–±—è —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º, –º–æ—è –ª—é–±–∏–º–∞—è!';
            btn.style.background = 'linear-gradient(45deg, #4CAF50, #2E7D32)';
            btn.disabled = true;
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
            launchConfetti();
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ –≤ Telegram Web App)
            if (window.Telegram && window.Telegram.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify({
                    action: 'accepted',
                    name: invitationData.her_name,
                    timestamp: new Date().toISOString()
                }));
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
            localStorage.setItem('invitation_accepted', 'true');
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }, 5000);
        }
        
        // –≠—Ñ—Ñ–µ–∫—Ç –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
        function launchConfetti() {
            const colors = ['#8774e1', '#ff6b9d', '#4CAF50', '#FFC107', '#2196F3'];
            
            for (let i = 0; i < 80; i++) {
                createConfettiPiece(colors);
            }
        }
        
        function createConfettiPiece(colors) {
            const confetti = document.createElement('div');
            confetti.className = 'confetti';
            
            // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–≤–µ—Ä—Ö—É
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.top = '-20px';
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏ —Ñ–æ—Ä–º–∞
            const size = 8 + Math.random() * 12;
            confetti.style.width = size + 'px';
            confetti.style.height = size + 'px';
            confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
            
            document.body.appendChild(confetti);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è
            const animation = confetti.animate([
                { 
                    opacity: 0,
                    transform: 'translateY(0) rotate(0deg)'
                },
                { 
                    opacity: 1,
                    transform: `translateY(${20 + Math.random() * 20}px) rotate(180deg)`
                },
                { 
                    opacity: 1,
                    transform: `translateY(${window.innerHeight}px) rotate(${360 + Math.random() * 360}deg)`
                }
            ], {
                duration: 2000 + Math.random() * 2000,
                easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
            });
            
            // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            animation.onfinish = () => confetti.remove();
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ Enter –¥–ª—è –ø–∞—Ä–æ–ª—è
        document.getElementById('password-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') checkPassword();
        });
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª–æ –ª–∏ —É–∂–µ –ø—Ä–∏–Ω—è—Ç–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
        if (localStorage.getItem('invitation_accepted') === 'true') {
            console.log("‚úÖ –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —É–∂–µ –±—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Ä–∞–Ω–µ–µ");
        }
    </script>
</body>
</html>